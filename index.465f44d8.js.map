{"mappings":"AAaA,MAAMA,EAAYC,SAASC,cAAc,eACnCC,EAAgBF,SAASC,cAAc,mBAiDvCE,EAAkBC,UAAS,KAC/B,MAAMC,EAAON,EAAUO,MAAMC,OACxBF,EAzDQ,SAAwBA,GACrC,MAAMG,EAAM,qCAAoBH,uDAChC,OAAOI,MAAMC,IAAIF,GAAKG,MAAKC,GAAYA,EAASC,M,CA4DhDC,CAAeT,GACZM,MAAKI,GAvDY,CAAAA,IACpB,GAAyB,IAArBA,EAAUC,OAAd,CAKA,GAAID,EAAUC,OAAS,GAKrB,OAJAC,SAASC,OAAOC,KACd,mEAEFjB,EAAckB,UAAY,IAI5B,GAAIL,EAAUC,QAAU,GAAKD,EAAUC,QAAU,GAAjD,CACE,MAAMK,EAAgBN,EACnBO,KACCC,GAAW,gDAEOA,EAAQC,MAAMC,aAAaF,EAAQlB,KAAKqB,4CAC5CH,EAAQlB,KAAKqB,kDAI5BC,KAAK,IACRzB,EAAckB,UAAYC,C,MAI5B,GAAyB,IAArBN,EAAUC,YAAd,CACE,MAAMO,EAAUR,EAAU,GACpBa,EAAc,gDAEEL,EAAQC,MAAMC,aAClCF,EAAQlB,KAAKqB,2CAECH,EAAQlB,KAAKqB,0CACLH,EAAQM,6CACLN,EAAQO,+CACTC,OAAOC,OAAOT,EAAQU,WAAWN,KAAK,4CAGhEzB,EAAckB,UAAYQ,C,OAxC1B1B,EAAckB,UAAY,E,EAqDPc,CAAcnB,KAChCoB,OAAMC,IACDA,EAAMxB,UAAsC,MAA1BwB,EAAMxB,SAASyB,OACnCpB,SAASC,OAAOoB,QAAQ,4CAExBrB,SAASC,OAAOoB,QACd,gDACD,IAZLpC,EAAckB,UAAY,EAcxB,GACH,KAEHrB,EAAUwC,iBAAiB,QAASpC","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\n// import axios from 'axios';\n\nconst BASE_URL = 'https://restcountries.com/v2';\n\nexport default function fetchCountries(name) {\n  const url = `${BASE_URL}/name/${name}?fields=name,flags.svg,capital,population,languages`;\n  return axios.get(url).then(response => response.data);\n}\n\nconst searchBox = document.querySelector('#search-box');\nconst countriesList = document.querySelector('#countries-list');\n\nconst showCountries = countries => {\n  if (countries.length === 0) {\n    countriesList.innerHTML = '';\n    return;\n  }\n\n  if (countries.length > 10) {\n    Notiflix.Notify.info(\n      'Too many matches found. Please enter a more specific name.'\n    );\n    countriesList.innerHTML = '';\n    return;\n  }\n\n  if (countries.length >= 2 && countries.length <= 10) {\n    const countriesHtml = countries\n      .map(\n        country => `\n            <div>\n              <img src=\"${country.flags.svg}\" alt=\"${country.name.common}\" width=\"50\">\n              <span>${country.name.common}</span>\n            </div>\n          `\n      )\n      .join('');\n    countriesList.innerHTML = countriesHtml;\n    return;\n  }\n\n  if (countries.length === 1) {\n    const country = countries[0];\n    const countryHtml = `\n            <div>\n              <img src=\"${country.flags.svg}\" alt=\"${\n      country.name.common\n    }\" width=\"100\">\n              <h2>${country.name.common}</h2>\n              <p>Capital: ${country.capital}</p>\n              <p>Population: ${country.population}</p>\n              <p>Languages: ${Object.values(country.languages).join(', ')}</p>\n            </div>\n          `;\n    countriesList.innerHTML = countryHtml;\n    return;\n  }\n};\n\nconst searchCountries = debounce(() => {\n  const name = searchBox.value.trim();\n  if (!name) {\n    countriesList.innerHTML = '';\n    return;\n  }\n\n  fetchCountries(name)\n    .then(countries => showCountries(countries))\n    .catch(error => {\n      if (error.response && error.response.status === 404) {\n        Notiflix.Notify.failure('Oops, there is no country with that name');\n      } else {\n        Notiflix.Notify.failure(\n          'Something went wrong. Please try again later.'\n        );\n      }\n    });\n}, 300);\n\nsearchBox.addEventListener('input', searchCountries);\n"],"names":["$1f0dc3b9307be026$var$searchBox","document","querySelector","$1f0dc3b9307be026$var$countriesList","$1f0dc3b9307be026$var$searchCountries","debounce","name","value","trim","url","axios","get","then","response","data","$1f0dc3b9307be026$export$2e2bcd8739ae039","countries","length","Notiflix","Notify","info","innerHTML","countriesHtml","map","country","flags","svg","common","join","countryHtml","capital","population","Object","values","languages","$1f0dc3b9307be026$var$showCountries","catch","error","status","failure","addEventListener"],"version":3,"file":"index.465f44d8.js.map"}