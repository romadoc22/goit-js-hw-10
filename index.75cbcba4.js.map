{"mappings":"YAaA,IAAMA,EAAYC,SAASC,cAAc,eACnCC,EAAgBF,SAASC,cAAc,mBAiDvCE,EAAkBC,UAAS,WAC/B,IAAMC,EAAON,EAAUO,MAAMC,OACxBF,EAzDQ,SAAwBA,GACrC,IAAMG,EAAM,GAAoBC,OAHjB,+BAGS,UAAaA,OAALJ,EAAK,uDACrC,OAAOK,MAAMC,IAAIH,GAAKI,MAAK,SAAAC,G,OAAYA,EAASC,I,IA4DhDC,CAAeV,GACZO,MAAK,SAAAI,G,OAvDY,SAAAA,GACpB,GAAyB,IAArBA,EAAUC,OAAd,CAKA,GAAID,EAAUC,OAAS,GAKrB,OAJAC,SAASC,OAAOC,KACd,mEAEFlB,EAAcmB,UAAY,IAI5B,GAAIL,EAAUC,QAAU,GAAKD,EAAUC,QAAU,GAAjD,CACE,IAAMK,EAAgBN,EACnBO,KACC,SAAAC,G,MAAW,gDAEkCf,OAA3Be,EAAQC,MAAMC,IAAI,WACtBjB,OAD+Be,EAAQnB,KAAKsB,OAAO,uCAC/BlB,OAApBe,EAAQnB,KAAKsB,OAAO,0C,IAInCC,KAAK,IACR1B,EAAcmB,UAAYC,C,MAI5B,GAAyB,IAArBN,EAAUC,YAAd,CACE,IAAMY,EAAUb,EAAU,GACpBc,EAAc,gDAGlBrB,OADoBoB,EAAQJ,MAAMC,IAAI,WAGxBjB,OAFdoB,EAAQxB,KAAKsB,OACd,sCAEuBlB,OADRoB,EAAQxB,KAAKsB,OAAO,qCAETlB,OADHoB,EAAQE,QAAQ,uCAEdtB,OADCoB,EAAQG,WAAW,sCACwBvB,OAA5CwB,OAAOC,OAAOL,EAAQM,WAAWP,KAAK,MAAM,wCAGtE1B,EAAcmB,UAAYS,C,OAxC1B5B,EAAcmB,UAAY,E,CAqDPe,CAAcpB,E,IAChCqB,OAAM,SAAAC,GACDA,EAAMzB,UAAsC,MAA1ByB,EAAMzB,SAAS0B,OACnCrB,SAASC,OAAOqB,QAAQ,4CAExBtB,SAASC,OAAOqB,QACd,gD,IAXNtC,EAAcmB,UAAY,E,GAe3B,KAEHtB,EAAU0C,iBAAiB,QAAStC,E","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\n// import axios from 'axios';\n\nconst BASE_URL = 'https://restcountries.com/v2';\n\nexport default function fetchCountries(name) {\n  const url = `${BASE_URL}/name/${name}?fields=name,flags.svg,capital,population,languages`;\n  return axios.get(url).then(response => response.data);\n}\n\nconst searchBox = document.querySelector('#search-box');\nconst countriesList = document.querySelector('#countries-list');\n\nconst showCountries = countries => {\n  if (countries.length === 0) {\n    countriesList.innerHTML = '';\n    return;\n  }\n\n  if (countries.length > 10) {\n    Notiflix.Notify.info(\n      'Too many matches found. Please enter a more specific name.'\n    );\n    countriesList.innerHTML = '';\n    return;\n  }\n\n  if (countries.length >= 2 && countries.length <= 10) {\n    const countriesHtml = countries\n      .map(\n        country => `\n            <div>\n              <img src=\"${country.flags.svg}\" alt=\"${country.name.common}\" width=\"50\">\n              <span>${country.name.common}</span>\n            </div>\n          `\n      )\n      .join('');\n    countriesList.innerHTML = countriesHtml;\n    return;\n  }\n\n  if (countries.length === 1) {\n    const country = countries[0];\n    const countryHtml = `\n            <div>\n              <img src=\"${country.flags.svg}\" alt=\"${\n      country.name.common\n    }\" width=\"100\">\n              <h2>${country.name.common}</h2>\n              <p>Capital: ${country.capital}</p>\n              <p>Population: ${country.population}</p>\n              <p>Languages: ${Object.values(country.languages).join(', ')}</p>\n            </div>\n          `;\n    countriesList.innerHTML = countryHtml;\n    return;\n  }\n};\n\nconst searchCountries = debounce(() => {\n  const name = searchBox.value.trim();\n  if (!name) {\n    countriesList.innerHTML = '';\n    return;\n  }\n\n  fetchCountries(name)\n    .then(countries => showCountries(countries))\n    .catch(error => {\n      if (error.response && error.response.status === 404) {\n        Notiflix.Notify.failure('Oops, there is no country with that name');\n      } else {\n        Notiflix.Notify.failure(\n          'Something went wrong. Please try again later.'\n        );\n      }\n    });\n}, 300);\n\nsearchBox.addEventListener('input', searchCountries);\n"],"names":["$b8f9b7833fa37166$var$searchBox","document","querySelector","$b8f9b7833fa37166$var$countriesList","$b8f9b7833fa37166$var$searchCountries","debounce","name","value","trim","url","concat","axios","get","then","response","data","$b8f9b7833fa37166$export$2e2bcd8739ae039","countries","length","Notiflix","Notify","info","innerHTML","countriesHtml","map","country","flags","svg","common","join","country1","countryHtml","capital","population","Object","values","languages","$b8f9b7833fa37166$var$showCountries","catch","error","status","failure","addEventListener"],"version":3,"file":"index.75cbcba4.js.map"}